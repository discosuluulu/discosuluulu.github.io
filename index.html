<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Discos Uluulu</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html, body { height: 100%; font-family: sans-serif; overflow: hidden; background: black; }
    video.bg-video {
      position: fixed; top: 0; left: 0;
      width: 100vw; height: 100vh;
      object-fit: cover; z-index: -1;
    }
    .landing {
      position: absolute; top: 0; left: 0;
      width: 100%; height: 100%;
      display: flex; flex-direction: column;
      justify-content: center; align-items: center;
      background-color: rgba(0, 0, 0, 0.3);
      z-index: 10;
    }
    .landing img {
      width: 160px; margin-bottom: 40px;
    }
    .landing button {
      padding: 12px 28px;
      font-size: 16px; border: none;
      background: white; color: black;
      cursor: pointer; border-radius: 4px;
    }
    .info-button {
      position: absolute; top: 20px; right: 20px;
      color: white; font-size: 16px; text-decoration: none;
      background: rgba(255,255,255,0.2); padding: 8px 12px; border-radius: 4px;
      z-index: 20;
    }
    #player {
      position: fixed;
      bottom: 20px; left: 20px; right: 20px;
      background: rgba(0,0,0,0.7);
      color: white;
      padding: 16px;
      border-radius: 12px;
      display: none;
      flex-direction: column;
      z-index: 15;
    }
    #player.minimized { height: 40px; overflow: hidden; }
    .player-header {
      display: flex; justify-content: space-between; align-items: center;
    }
    .controls {
      display: flex; align-items: center; gap: 10px;
      margin-top: 10px;
    }
    .tracklist {
      margin-top: 12px; max-height: 120px;
      overflow-y: auto; font-size: 14px;
    }
    .tracklist div { margin: 6px 0; cursor: pointer; }
    select {
      background: #fff; color: #000;
      border-radius: 4px; border: none;
      padding: 4px 8px; margin-left: 10px;
    }
    .toggle-btn {
      background: none; border: none;
      color: white; cursor: pointer;
      font-size: 16px;
    }
  </style>
</head>
<body>

<video id="backgroundVideo" class="bg-video" autoplay muted loop>
  <source src="background.mp4" type="video/mp4" />
</video>

<a href="https://info.discosuluulu.com" class="info-button">+info</a>

<div class="landing" id="landing">
  <img src="logo.png" alt="Logo" />
  <button id="exploreBtn">Explore Music</button>
</div>

<div id="player">
  <div class="player-header">
    <div>
      <strong id="albumTitle">Garden de La Selva</strong>
      <select id="albumSelect">
        <option value="garden">Garden de La Selva</option>
        <option value="otu">O tú can</option>
      </select>
    </div>
    <button id="minimizeBtn" class="toggle-btn">−</button>
  </div>

  <div class="controls">
    <button id="playPauseBtn">▶</button>
    <span id="currentTrack">Loading...</span>
  </div>

  <div class="tracklist" id="tracklist"></div>
</div>

<script>
const albums = {
  garden: {
    title: "Garden de La Selva",
    tracks: [
      { title: "Rubba Dubba", length: "3:12", url: "https://raw.githubusercontent.com/discosuluulu/Garden-de-La-Selva-audio-/main/Discos%20Uluulu%20-%20Garden%20de%20La%20Selva%20-%2001%20Rubba%20Dubba.mp3" },
      { title: "Blue", length: "2:57", url: "https://raw.githubusercontent.com/discosuluulu/Garden-de-La-Selva-audio-/main/Discos%20Uluulu%20-%20Garden%20de%20La%20Selva%20-%2002%20Blue.mp3" },
      { title: "Jam 3", length: "3:44", url: "https://raw.githubusercontent.com/discosuluulu/Garden-de-La-Selva-audio-/main/Discos%20Uluulu%20-%20Garden%20de%20La%20Selva%20-%2003%20Jam%203.mp3" },
      { title: "Groove 1", length: "2:46", url: "https://raw.githubusercontent.com/discosuluulu/Garden-de-La-Selva-audio-/main/Discos%20Uluulu%20-%20Garden%20de%20La%20Selva%20-%2004%20Groove%201.mp3" },
      { title: "Vamos Limón", length: "3:25", url: "https://raw.githubusercontent.com/discosuluulu/Garden-de-La-Selva-audio-/main/Discos%20Uluulu%20-%20Garden%20de%20La%20Selva%20-%2005%20Vamos%20Limón.mp3" },
      { title: "Mi Ritmo", length: "3:08", url: "https://raw.githubusercontent.com/discosuluulu/Garden-de-La-Selva-audio-/main/Discos%20Uluulu%20-%20Garden%20de%20La%20Selva%20-%2006%20Mi%20Ritmo.mp3" },
      { title: "Valle Azul", length: "4:01", url: "https://raw.githubusercontent.com/discosuluulu/Garden-de-La-Selva-audio-/main/Discos%20Uluulu%20-%20Garden%20de%20La%20Selva%20-%2007%20Valle%20Azul.mp3" },
      { title: "Yellow", length: "2:59", url: "https://raw.githubusercontent.com/discosuluulu/Garden-de-La-Selva-audio-/main/Discos%20Uluulu%20-%20Garden%20de%20La%20Selva%20-%2008%20Yellow.mp3" },
      { title: "Manzanillo", length: "3:17", url: "https://raw.githubusercontent.com/discosuluulu/Garden-de-La-Selva-audio-/main/Discos%20Uluulu%20-%20Garden%20de%20La%20Selva%20-%2009%20Manzanillo.mp3" },
      { title: "Dear Familia", length: "3:40", url: "https://raw.githubusercontent.com/discosuluulu/Garden-de-La-Selva-audio-/main/Discos%20Uluulu%20-%20Garden%20de%20La%20Selva%20-%2010%20Dear%20Familia.mp3" },
      { title: "Shake It", length: "3:20", url: "https://raw.githubusercontent.com/discosuluulu/Garden-de-La-Selva-audio-/main/Discos%20Uluulu%20-%20Garden%20de%20La%20Selva%20-%2011%20Shake%20It.mp3" }
    ]
  },
  otu: {
    title: "O tú can",
    tracks: [
      { title: "Que Gata", length: "2:50", url: "https://raw.githubusercontent.com/discosuluulu/Otucan/refs/heads/main/Discos%20Uluulu%20-%2001%20Que%20Gata.mp3" },
      { title: "Mi Amor", length: "2:58", url: "https://raw.githubusercontent.com/discosuluulu/Otucan/refs/heads/main/Discos%20Uluulu%20-%2002%20Mi%20Amor.mp3" },
      { title: "Forget the rest", length: "3:00", url: "https://raw.githubusercontent.com/discosuluulu/Otucan/refs/heads/main/Discos%20Uluulu%20-%2003%20Forget%20the%20rest.mp3" },
      { title: "Highlife", length: "2:45", url: "https://raw.githubusercontent.com/discosuluulu/Otucan/refs/heads/main/Discos%20Uluulu%20-%2004%20Highlife.mp3" },
      { title: "Voy Pal Agua", length: "3:18", url: "https://raw.githubusercontent.com/discosuluulu/Otucan/refs/heads/main/Discos%20Uluulu%20-%2005%20Voy%20Pal%20Agua.mp3" },
      { title: "Have ya had a Lemon", length: "2:48", url: "https://raw.githubusercontent.com/discosuluulu/Otucan/refs/heads/main/Discos%20Uluulu%20-%2006%20Have%20ya%20had%20a%20Lemon.mp3" },
      { title: "Move ya body", length: "3:05", url: "https://raw.githubusercontent.com/discosuluulu/Otucan/refs/heads/main/Discos%20Uluulu%20-%2007%20Move%20ya%20body.mp3" },
      { title: "Bom día", length: "2:42", url: "https://raw.githubusercontent.com/discosuluulu/Otucan/refs/heads/main/Discos%20Uluulu%20-%2008%20Bom%20día.mp3" },
      { title: "Ya", length: "2:59", url: "https://raw.githubusercontent.com/discosuluulu/Otucan/refs/heads/main/Discos%20Uluulu%20-%2009%20Ya.mp3" },
      { title: "Que disfrutes", length: "3:10", url: "https://raw.githubusercontent.com/discosuluulu/Otucan/refs/heads/main/Discos%20Uluulu%20-%2010%20Que%20disfrutes.mp3" }
    ]
  }
};

let currentAlbum = "garden";
let currentIndex = 0;
const audio = new Audio();
const player = document.getElementById('player');
const playPauseBtn = document.getElementById('playPauseBtn');
const currentTrackSpan = document.getElementById('currentTrack');

function loadAlbum(albumKey) {
  currentAlbum = albumKey;
  currentIndex = 0;
  document.getElementById("albumTitle").innerText = albums[albumKey].title;
  const tracklistDiv = document.getElementById("tracklist");
  tracklistDiv.innerHTML = "";
  albums[albumKey].tracks.forEach((track, i) => {
    const div = document.createElement("div");
    div.innerText = `${String(i+1).padStart(2, '0')}. ${track.title} — ${track.length}`;
    div.onclick = () => {
      currentIndex = i;
      playTrack();
    };
    tracklistDiv.appendChild(div);
  });
  playTrack();
}

function playTrack() {
  const track = albums[currentAlbum].tracks[currentIndex];
  if (!track) return;
  audio.src = track.url;
  audio.play();
  currentTrackSpan.innerText = track.title;
  playPauseBtn.innerText = "⏸";
}

playPauseBtn.onclick = () => {
  if (audio.paused) {
    audio.play();
    playPauseBtn.innerText = "⏸";
  } else {
    audio.pause();
    playPauseBtn.innerText = "▶";
  }
};

audio.addEventListener("ended", () => {
  currentIndex = (currentIndex + 1) % albums[currentAlbum].tracks.length;
  playTrack();
});

document.getElementById("exploreBtn").onclick = () => {
  document.getElementById("landing").style.display = "none";
  player.style.display = "flex";
  const bg = document.getElementById("backgroundVideo");
  bg.src = "backgroundshop.mp4";
  bg.load();
  bg.play();
  loadAlbum("garden");
};

document.getElementById("albumSelect").onchange = e => {
  loadAlbum(e.target.value);
};

document.getElementById("minimizeBtn").onclick = () => {
  player.classList.toggle("minimized");
  document.getElementById("minimizeBtn").innerText = player.classList.contains("minimized") ? "+" : "−";
};
</script>

</body>
</html>
