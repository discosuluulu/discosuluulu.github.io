<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Shop – Disco Suluulu</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      background: black;
      overflow: hidden;
      font-family: sans-serif;
      height: 100vh;
      width: 100vw;
    }

    /* Zoomed-out video */
    video {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0.9);
      min-width: 100%;
      min-height: 100%;
      object-fit: cover;
      z-index: -1;
    }

    .nav-zone {
      position: fixed;
      top: 0;
      bottom: 0;
      width: 50vw;
      z-index: 10;
    }

    .nav-left {
      left: 0;
    }

    .nav-right {
      right: 0;
    }

    .nav-zone:hover {
      cursor: pointer;
    }

    /* Floating Player Container */
    .audio-player-container {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background-color: rgba(0, 0, 0, 0.6);
      color: white;
      font-family: sans-serif;
      z-index: 999;
      transition: transform 0.3s ease;
      backdrop-filter: blur(10px);
    }

    .audio-player.minimized {
      transform: translateY(100%);
    }

    .audio-player-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px 16px;
      cursor: pointer;
    }

    .audio-player-title {
      font-size: 18px;
      font-weight: bold;
    }

    .audio-player-subtitle {
      font-size: 12px;
      font-weight: 300;
      color: #ccc;
      margin-top: 2px;
    }

    .audio-player-body {
      display: flex;
      flex-direction: column;
      padding: 0 16px 12px;
    }

    .controls {
      display: flex;
      align-items: center;
      gap: 10px;
      margin: 8px 0;
    }

    .play-pause {
      background: none;
      border: none;
      cursor: pointer;
      width: 32px;
      height: 32px;
      padding: 0;
    }

    .play-pause svg {
      fill: white;
      width: 100%;
      height: 100%;
    }

    .progress-bar {
      width: 100%;
      height: 4px;
      background: #444;
      border-radius: 2px;
      overflow: hidden;
      margin-top: 4px;
    }

    .progress {
      height: 100%;
      background: beige;
      width: 0%;
    }

    .tracklist {
      margin-top: 12px;
      max-height: 120px;
      overflow-y: auto;
    }

    .track {
      display: flex;
      justify-content: space-between;
      padding: 6px 0;
      font-size: 14px;
      cursor: pointer;
    }

    .track:hover {
      color: beige;
    }

    .track.active {
      font-weight: bold;
      color: beige;
    }

    .minimized-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 8px 16px;
      background-color: rgba(0,0,0,0.4);
      color: white;
      font-size: 16px;
      cursor: pointer;
    }
  </style>
</head>
<body>

  <!-- Fullscreen video -->
  <video autoplay muted loop playsinline>
    <source src="shop.mp4" type="video/mp4">
  </video>

  <!-- Left tap to discosuluulu.com -->
  <div class="nav-zone nav-left" onclick="location.href='https://discosuluulu.com'"></div>

  <!-- Right tap to shop2.discosuluulu.com -->
  <div class="nav-zone nav-right" onclick="location.href='https://shop2.discosuluulu.com'"></div>

  <!-- Floating Audio Player -->
  <div class="audio-player-container" id="audioPlayer">
    <div class="audio-player" id="playerBox">
      <div class="audio-player-header" onclick="toggleMinimize()">
        <div>
          <div class="audio-player-title">O tú can</div>
          <div class="audio-player-subtitle">Recorded with one microphone in a palm frond wall rancho</div>
        </div>
        <div style="font-size: 24px; line-height: 1;">−</div>
      </div>
      <div class="audio-player-body">
        <div class="controls">
          <button class="play-pause" onclick="togglePlayPause()">
            <svg id="playIcon" viewBox="0 0 24 24"><polygon points="6,4 20,12 6,20" /></svg>
            <svg id="pauseIcon" viewBox="0 0 24 24" style="display:none;"><rect x="6" y="4" width="4" height="16"/><rect x="14" y="4" width="4" height="16"/></svg>
          </button>
          <div class="progress-bar"><div class="progress" id="progressBar"></div></div>
        </div>
        <div class="tracklist" id="trackList"></div>
      </div>
    </div>
    <div class="minimized-bar" id="minimizedBar" onclick="toggleMinimize()" style="display:none;">
      <span>O tú can</span>
      <span>+</span>
    </div>
  </div>

  <!-- JS Player Logic -->
  <script>
    const tracks = [
      { title: "01. Que Gata", url: "https://raw.githubusercontent.com/discosuluulu/Otucan/main/01%20Que%20Gata.mp3", duration: "2:37" },
      { title: "02. Mi Amor", url: "https://raw.githubusercontent.com/discosuluulu/Otucan/main/02%20Mi%20Amor.mp3", duration: "2:30" },
      { title: "03. Forget the rest", url: "https://raw.githubusercontent.com/discosuluulu/Otucan/main/03%20Forget%20the%20rest.mp3", duration: "1:56" },
      { title: "04. Highlife", url: "https://raw.githubusercontent.com/discosuluulu/Otucan/main/04%20Highlife.mp3", duration: "2:32" },
      { title: "05. Voy Pal Agua", url: "https://raw.githubusercontent.com/discosuluulu/Otucan/main/05%20Voy%20Pal%20Agua.mp3", duration: "2:15" },
      { title: "06. Have ya had a Lemon", url: "https://raw.githubusercontent.com/discosuluulu/Otucan/main/06%20Have%20ya%20had%20a%20Lemon.mp3", duration: "1:54" },
      { title: "07. Move ya body", url: "https://raw.githubusercontent.com/discosuluulu/Otucan/main/07%20Move%20ya%20body.mp3", duration: "2:21" },
      { title: "08. Bom día", url: "https://raw.githubusercontent.com/discosuluulu/Otucan/main/08%20Bom%20día.mp3", duration: "1:51" },
      { title: "09. Ya", url: "https://raw.githubusercontent.com/discosuluulu/Otucan/main/09%20Ya.mp3", duration: "1:52" },
      { title: "10. Que disfrutes", url: "https://raw.githubusercontent.com/discosuluulu/Otucan/main/10%20Que%20disfrutes.mp3", duration: "2:10" },
    ];

    let currentTrack = 0;
    let audio = new Audio(tracks[currentTrack].url);
    let isPlaying = false;

    const playIcon = document.getElementById("playIcon");
    const pauseIcon = document.getElementById("pauseIcon");
    const progressBar = document.getElementById("progressBar");
    const trackListDiv = document.getElementById("trackList");

    function togglePlayPause() {
      if (audio.paused) {
        audio.play();
        isPlaying = true;
        playIcon.style.display = "none";
        pauseIcon.style.display = "block";
      } else {
        audio.pause();
        isPlaying = false;
        playIcon.style.display = "block";
        pauseIcon.style.display = "none";
      }
    }

    function toggleMinimize() {
      const player = document.getElementById("playerBox");
      const minimizedBar = document.getElementById("minimizedBar");
      if (player.classList.contains("minimized")) {
        player.classList.remove("minimized");
        minimizedBar.style.display = "none";
      } else {
        player.classList.add("minimized");
        minimizedBar.style.display = "flex";
      }
    }

    function loadTrack(index) {
      audio.src = tracks[index].url;
      currentTrack = index;
      document.querySelectorAll(".track").forEach((el, i) => {
        el.classList.toggle("active", i === index);
      });
      audio.play();
      isPlaying = true;
      playIcon.style.display = "none";
      pauseIcon.style.display = "block";
    }

    function updateProgress() {
      const percent = (audio.currentTime / audio.duration) * 100;
      progressBar.style.width = percent + "%";
    }

    audio.addEventListener("timeupdate", updateProgress);
    audio.addEventListener("ended", () => {
      if (currentTrack < tracks.length - 1) {
        loadTrack(currentTrack + 1);
      }
    });

    // Render track list
    tracks.forEach((track, i) => {
      const div = document.createElement("div");
      div.className = "track" + (i === 0 ? " active" : "");
      div.innerHTML = `<span>${track.title}</span><span>${track.duration}</span>`;
      div.onclick = () => loadTrack(i);
      trackListDiv.appendChild(div);
    });

    // Autoplay first track on load
    audio.play().then(() => {
      isPlaying = true;
      playIcon.style.display = "none";
      pauseIcon.style.display = "block";
    }).catch(() => {
      // User interaction required on some browsers
    });
  </script>
</body>
</html>
